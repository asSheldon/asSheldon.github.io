(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{471:function(t,s,a){"use strict";a.r(s);var n=a(4),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"介绍nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍nginx"}},[t._v("#")]),t._v(" 介绍Nginx")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("ol",[a("li",[t._v("Nginx是lgor Sysoev为俄罗斯访问量第二的rambler.ru站点设计开发的。从2004年发布至今，凭借开源的力量，已经接近成熟与完善。")]),t._v(" "),a("li",[t._v("Nginx功能丰富，可作为HTTP服务器，也可作为反向代理服务器，邮件服务器。支持FastCGI、SSL、Virtual Host、URL Rewrite、Gzip等功能。并且支持很多第三方的模块扩展。")]),t._v(" "),a("li",[t._v("Nginx的稳定性、功能集、示例配置文件和低系统资源的消耗让他后来居上，在全球活跃的网站中有12.18%的使用比率，大约为2220万个网站。")])])]),t._v(" "),a("h2",{attrs:{id:"nginx的常用功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx的常用功能"}},[t._v("#")]),t._v(" Nginx的常用功能")]),t._v(" "),a("ol",[a("li",[t._v("Http代理，反向代理：作为web服务器最常用的功能之一，尤其是反向代理。Nginx在做反向代理时，提供性能稳定，并且能够提供配置灵活的转发功能。Nginx可以根据不同的正则匹配，采取不同的转发策略，比如图片文件结尾的走文件服务器，动态页面走web服务器，只要你正则写的没问题，又有相对应的服务器解决方案，你就可以随心所欲的玩。并且Nginx对返回结果进行错误页跳转，异常判断等。如果被分发的服务器存在异常，他可以将请求重新转发给另外一台服务器，然后自动去除异常服务器。")]),t._v(" "),a("li",[t._v("负载均衡，Nginx提供的负载均衡策略有2种：内置策略和扩展策略。内置策略为轮询，加权轮询，Ip hash。扩展策略，就天马行空，只有你想不到的没有他做不到的啦，你可以参照所有的负载均衡算法，给他一一找出来做下实现。")]),t._v(" "),a("li",[t._v("web缓存，Nginx可以对不同的文件做不同的缓存处理，配置灵活，并且支持FastCGI_Cache，主要用于对FastCGI的动态程序进行缓存。配合着第三方的ngx_cache_purge，对制定的URL缓存内容可以的进行增删管理。")])]),t._v(" "),a("h2",{attrs:{id:"nginx部署步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx部署步骤"}},[t._v("#")]),t._v(" Nginx部署步骤")]),t._v(" "),a("h3",{attrs:{id:"安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx"}},[t._v("#")]),t._v(" 安装nginx")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[a("a",{attrs:{href:"http://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx下载地址"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"修改配置文件和替换文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件和替换文件"}},[t._v("#")]),t._v(" 修改配置文件和替换文件")]),t._v(" "),a("p",[a("img",{attrs:{src:"/nginx.jpg",alt:"avatar"}})]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("ol",[a("li",[t._v("主要修改nginx文件夹中conf里面的nginx.conf文件")]),t._v(" "),a("li",[t._v("修改完之后，我们将vue项目中，build出来的dist文件夹中的文件全部复制到html文件夹中")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#修改过后的conf文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#user  nobody;")]),t._v("\nworker_processes  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#error_log  logs/error.log;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#error_log  logs/error.log  notice;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#error_log  logs/error.log  info;")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#pid        logs/nginx.pid;")]),t._v("\n\n\nevents "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    worker_connections  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\nhttp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    include       mime.types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    default_type  application/octet-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#                  '$status $body_bytes_sent \"$http_referer\" '")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#                  \'"$http_user_agent" "$http_x_forwarded_for"\';')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access_log  logs/access.log  main;")]),t._v("\n\n    sendfile        on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#tcp_nopush     on;")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#keepalive_timeout  0;")]),t._v("\n    keepalive_timeout  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#gzip  on;")]),t._v("\n\n    server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        server_name  localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#charset koi8-r;")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#access_log  logs/host.access.log  main;")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#正常运行时将会运行html文件夹中的index.html文件")]),t._v("\n        location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            root   html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#error_page  404              /404.html;")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# redirect server error pages to the static page /50x.html")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当错误时会显示50x.html页面")]),t._v("\n        error_page   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("502")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("503")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("504")]),t._v("  /50x.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        location "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" /50x.html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            root   html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"/nginx02.jpg",alt:"avatar"}}),a("br"),t._v(" "),a("img",{attrs:{src:"/nginx03.jpg",alt:"avatar"}})]),t._v(" "),a("h2",{attrs:{id:"在服务器中创建web服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在服务器中创建web服务器"}},[t._v("#")]),t._v(" 在服务器中创建web服务器")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/CherishTheYouth/p/CherishTheYouth_20190324.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何创建web服务器"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"在web服务器中设置路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在web服务器中设置路径"}},[t._v("#")]),t._v(" 在web服务器中设置路径")]),t._v(" "),a("p",[t._v("打开服务器控制面板"),a("br"),t._v(" "),a("img",{attrs:{src:"/nginx04.jpg",alt:"avatar"}}),a("br"),t._v("\n点击管理工具，进入lls"),a("br"),t._v(" "),a("img",{attrs:{src:"/nginx05.jpg",alt:"avatar"}}),a("br"),t._v(" "),a("img",{attrs:{src:"/nginx06.jpg",alt:"avatar"}}),a("br"),t._v("\n点击高级设置，设置物理路径，将物理路径设置为nginx中的html文件夹"),a("br"),t._v(" "),a("img",{attrs:{src:"/nginx07.jpg",alt:"avatar"}})]),t._v(" "),a("h3",{attrs:{id:"随后在控制面板-防火墙中设置入站规则来开放端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#随后在控制面板-防火墙中设置入站规则来开放端口"}},[t._v("#")]),t._v(" 随后在控制面板-防火墙中设置入站规则来开放端口")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://jingyan.baidu.com/article/925f8cb8bf55f1c0dde056fb.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何开放端口"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"若使用阿里云服务器-需注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#若使用阿里云服务器-需注意"}},[t._v("#")]),t._v(" 若使用阿里云服务器-需注意")]),t._v(" "),a("p",[t._v("需要在阿里云服务器控制器中，设置安全组，才可以在外部访问服务器")]),t._v(" "),a("h2",{attrs:{id:"在cmd中运行nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在cmd中运行nginx"}},[t._v("#")]),t._v(" 在cmd中运行nginx")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#运行nginx")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" c:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unzip")]),t._v(" nginx-1.17.10.zip\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" nginx-1.17.10\nstart nginx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#停止nginx")]),t._v("\nnginx -s stop\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看正在进行的nginx")]),t._v("\nC:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("nginx-1.17.1"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("0")]),t._v(">")]),t._v("tasklist /fi "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"imagename eq nginx.exe"')]),t._v("\n\nImage Name           PID Session Name     Session"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#    Mem Usage")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\nnginx.exe            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("652")]),t._v(" Console                 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("780")]),t._v(" K\nnginx.exe           "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1332")]),t._v(" Console                 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("112")]),t._v(" K\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#修改nginx之后需重新启动")]),t._v("\nnginx -s reload\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);